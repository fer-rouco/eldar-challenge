{"version":3,"file":"static/js/515.0fd4e013.chunk.js","mappings":"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","sources":["components/containers/panel.jsx","components/controls/buttons/submit-button.jsx","components/controls/fields/input-field.jsx","pages/product.jsx","services/server/product-service.js"],"sourcesContent":["import { css, styled } from \"styled-components\";\n\nconst StyledBorder = css`\n  border: 1px solid #CCC;\n  border-radius: 1rem;\n`;\n\nconst StyledContainer = styled.div`\n\n  ${StyledBorder};\n\n  background-color: #e1e1e1;\n\n  overflow: hidden;\n\n  padding: 1.25rem;\n\n  margin-top: 1.25rem;\n  margin-bottom: 1.25rem;\n\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: 700px;\n\n  &.small {\n    max-width: 28.75rem; // 460,8px con font-size 16px\n  }\n\n  &.medium {\n    max-width: 38.375rem; // 614,4px con font-size 16px\n  }\n\n  &.large {\n    max-width: 49.5625rem; // 793,6px con font-size 16px\n  }\n`;\n\nconst StyledHeader = styled.div`\n\n  ${StyledBorder};\n  \n  padding: 0 20px;\n  margin: 0 20px 20px;\n\n  background-color: #70aaff;\n  color: #fff;\n`;\n\n// size: \"small\", \"medium\", \"large\"\nconst Panel = ({ title, children, size, className, hideTitle }) => {\n\n  function getClasses() {\n    return `panel container ${className || ''} ${size || ''}`;\n  }\n\n  return (\n    <StyledContainer className={getClasses()} >\n      { hideTitle ||\n        <StyledHeader>\n          <h1>{title}</h1>\n        </StyledHeader>\n      }\n      {children}\n    </StyledContainer>\n  )\n};\nexport default Panel;\n","import Button from './button'; \n\nexport default function SubmitButton(props) {\n  return <Button type=\"submit\" {...props} attr=\"submitButton\" ></Button>;\n}\n","import { useEffect, useState } from \"react\";\n\nexport default function InputField({ type, model, attr, value, label, onChange }) {\n  // const [value, setValue] = useState('');\n\n  // const onValueChange = () => {\n  //   onChange();\n  //   setValue(model[attr]);\n  // };\n\n  // useEffect(() => {\n  //   if (attr) {\n  //     setValue(model[attr]);\n  //   }\n  //   // return () => {\n  //   //   setValue({});\n  //   // };\n  // }, [model, attr]);\n\n  return (\n    <div className='mb-3' >\n      <label htmlFor={attr} className='form-label' >{label}</label>\n      <input type={type} id={attr} className='form-control' value={value} onChange={onChange} ></input>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { findById, create, update } from '../services/server/product-service';\nimport Panel from '../components/containers/panel';\nimport { usePage } from '../contexts/page-context';\nimport InputField from '../components/controls/fields/input-field';\nimport SubmitButton from '../components/controls/buttons/submit-button';\nimport Button from '../components/controls/buttons/button';\nimport { useNavigate } from 'react-router-dom';\nimport { useAlertMessage } from '../contexts/alert-message-context';\nimport storageManagerService from \"../services/storage/storage-manager-service\";\nimport { STORAGE_SESSION_IDENTIFIER } from '../services/storage/storage-constants';\n\nconst sessionStorageService = storageManagerService(true);\n\nconst Product = ({ hideTitle }) => {\n  const navigate = useNavigate();\n  const { addSuccessMessage, addErrorMessage } = useAlertMessage();\n\n  const {id, isCreatePageType, isEditPageType, isViewPageType} = usePage();\n\n  const [category, setCategory] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState(0);\n\n  useEffect(() => {\n    if (!isCreatePageType()) {\n      findById(id).then((product) => {\n        setCategory(product.category);\n        setDescription(product.description);\n        setPrice(product.price);\n      });\n    }\n  }, [id]);\n\n  const actionLabel = () => {\n    return (isCreatePageType()) ? 'Create' : 'Update';\n  }\n\n  const handleCancelClick = () => {\n    console.log(\"Cancel\")\n    navigate('/Products');\n  }\n\n  const build = () => {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-sm-6 col-md-6\">\n            <InputField attr='category' type='text' label='Category' value={category} onChange={event => setCategory(event.target.value)} ></InputField>\n          </div>\n          <div className=\"col-sm-6 col-md-6\">\n            <InputField attr='description' type='text' label='Description' value={description} onChange={event => setDescription(event.target.value)} ></InputField>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-sm-6 col-md-6\">\n            <InputField attr='price' type='number' label='Price' value={price} onChange={event => setPrice(event.target.value)} ></InputField>\n          </div>\n        </div>\n        { isViewPageType() ||\n          <div className=\"row\">\n            <div className=\"col-sm-6 col-md-6\">\n              <Button label='Cancel' className=\"w-100\" large onClick={handleCancelClick} ></Button>\n            </div>\n            <div className=\"col-sm-6 col-md-6\">\n              <SubmitButton label={actionLabel()} className=\"w-100\" large ></SubmitButton>\n            </div>\n          </div>\n        }\n      </div>\n    )\n  }\n\n  const buildForm = () => {\n    const buildObjectModel = () => {\n      let user_id = sessionStorageService.getItem(STORAGE_SESSION_IDENTIFIER)?._id;\n      let objectModel = { category, description, price, user_id };\n      return (isEditPageType()) ? { _id: id, ...objectModel } : objectModel;\n    }\n\n    const submit = async (event) => {\n      event.preventDefault();\n\n      let action = '';\n      try {\n        if (isCreatePageType()) {\n          action = 'created';\n          await create(buildObjectModel());\n        }\n        else if (isEditPageType()) {\n          action = 'updated';\n          await update(buildObjectModel());\n        }\n        addSuccessMessage(`Product ${action} successfully`);\n        navigate('/Products');\n      }\n      catch(error) {\n        addErrorMessage(`Error trying to ${actionLabel().toLowerCase()} a product`);\n      }\n\n    }\n\n    return (\n      <form onSubmit={submit}>\n        {build()}\n      </form>\n    )\n  }\n\n  return (\n    <Panel title={`${actionLabel()} Product`.trim()} size='medium' hideTitle={hideTitle} >\n      {(isViewPageType()) ? build() : buildForm()}\n    </Panel>\n  )\n};\n\nProduct.propTypes = {\n  hideTitle: PropTypes.bool\n};\n\nexport default Product;\n","import { get, post, postPaginator, put, remove as removeById } from './base-service';\n\nconst BASE_URL = 'api/product';\n\nexport async function findById(id) {\n  return get(BASE_URL + '/' + id);\n}\n\n\nexport async function getAll(user_id) {\n  return get(`${BASE_URL}/user/${user_id}`, user_id);\n}\n\nexport async function findAll(pageFrom, pageSize, projectionFields, filters) {\n  return postPaginator(BASE_URL, pageFrom, pageSize, projectionFields, filters);\n}\n\nexport async function create(updateObject) {\n  return post(BASE_URL + '/create', updateObject);\n}\n\nexport async function update(updateObject) {\n  return put(BASE_URL + `/update/${updateObject._id}`, updateObject);\n}\n\nexport async function remove(userId) {\n  return removeById(BASE_URL, userId);\n}\n"],"names":["StyledBorder","css","_templateObject","_taggedTemplateLiteral","StyledContainer","styled","_templateObject2","StyledHeader","_templateObject3","_ref","title","children","size","className","hideTitle","_jsxs","concat","_jsx","SubmitButton","props","Button","_objectSpread","type","attr","InputField","model","value","label","onChange","htmlFor","id","sessionStorageService","storageManagerService","navigate","useNavigate","_useAlertMessage","useAlertMessage","addSuccessMessage","addErrorMessage","_usePage","usePage","isCreatePageType","isEditPageType","isViewPageType","_useState","useState","_useState2","_slicedToArray","category","setCategory","_useState3","_useState4","description","setDescription","_useState5","_useState6","price","setPrice","useEffect","findById","then","product","actionLabel","handleCancelClick","console","log","build","event","target","large","onClick","Panel","trim","buildObjectModel","_sessionStorageServic","user_id","getItem","STORAGE_SESSION_IDENTIFIER","_id","objectModel","submit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","action","wrap","_context","prev","next","preventDefault","create","update","t0","toLowerCase","stop","_x","apply","arguments","onSubmit","buildForm","BASE_URL","_findById","abrupt","get","getAll","_x2","_getAll","_callee2","_context2","_x7","_create","_callee4","updateObject","_context4","post","_x8","_update","_callee5","_context5","put","remove","_x9","_remove","_callee6","userId","_context6","removeById"],"sourceRoot":""}