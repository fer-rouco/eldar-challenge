"use strict";(self.webpackChunkeldar_challenge=self.webpackChunkeldar_challenge||[]).push([[140,515],{7934:function(e,n,t){var r,a,c,s=t(168),i=t(7924),o=t(184),l=(0,i.iv)(r||(r=(0,s.Z)(["\n  border: 1px solid #CCC;\n  border-radius: 1rem;\n"]))),u=i.zo.div(a||(a=(0,s.Z)(["\n\n  ",";\n\n  background-color: #e1e1e1;\n\n  overflow: hidden;\n\n  padding: 1.25rem;\n\n  margin-top: 1.25rem;\n  margin-bottom: 1.25rem;\n\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: 700px;\n\n  &.small {\n    max-width: 28.75rem; // 460,8px con font-size 16px\n  }\n\n  &.medium {\n    max-width: 38.375rem; // 614,4px con font-size 16px\n  }\n\n  &.large {\n    max-width: 49.5625rem; // 793,6px con font-size 16px\n  }\n"])),l),d=i.zo.div(c||(c=(0,s.Z)(["\n\n  ",";\n  \n  padding: 0 20px;\n  margin: 0 20px 20px;\n\n  background-color: #70aaff;\n  color: #fff;\n"])),l);n.Z=function(e){var n=e.title,t=e.children,r=e.size,a=e.className,c=e.hideTitle;return(0,o.jsxs)(u,{className:"panel container ".concat(a||""," ").concat(r||""),children:[c||(0,o.jsx)(d,{children:(0,o.jsx)("h1",{children:n})}),t]})}},5039:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(8683),a=t(413),c=t(184);function s(e){return(0,c.jsx)(a.Z,(0,r.Z)((0,r.Z)({type:"submit"},e),{},{attr:"submitButton"}))}},4276:function(e,n,t){t.d(n,{Z:function(){return a}});t(2791);var r=t(184);function a(e){var n=e.type,t=(e.model,e.attr),a=e.value,c=e.label,s=e.onChange;return(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:t,className:"form-label",children:c}),(0,r.jsx)("input",{type:n,id:t,className:"form-control",value:a,onChange:s})]})}},7515:function(e,n,t){t.r(n);var r=t(4165),a=t(5861),c=t(8683),s=t(9439),i=t(2791),o=t(6774),l=t(7934),u=t(2716),d=t(4276),f=t(5039),p=t(413),h=t(7689),m=t(8152),x=t(9148),v=t(4841),j=t(184),g=(0,x.Z)(!0);n.default=function(e){var n=e.hideTitle,t=(0,h.s0)(),x=(0,m.w)(),Z=x.addSuccessMessage,b=x.addErrorMessage,y=(0,u.q)(),w=y.id,N=y.isCreatePageType,C=y.isEditPageType,k=y.isViewPageType,P=(0,i.useState)(""),_=(0,s.Z)(P,2),T=_[0],z=_[1],E=(0,i.useState)(""),S=(0,s.Z)(E,2),U=S[0],q=S[1],I=(0,i.useState)(0),M=(0,s.Z)(I,2),D=M[0],O=M[1];(0,i.useEffect)((function(){N()||(0,o.qC)(w).then((function(e){z(e.category),q(e.description),O(e.price)}))}),[w]);var V=function(){return N()?"Create":"Update"},H=function(){console.log("Cancel"),t("/Products")},B=function(){return(0,j.jsxs)("div",{className:"container",children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,j.jsx)(d.Z,{attr:"category",type:"text",label:"Category",value:T,onChange:function(e){return z(e.target.value)}})}),(0,j.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,j.jsx)(d.Z,{attr:"description",type:"text",label:"Description",value:U,onChange:function(e){return q(e.target.value)}})})]}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,j.jsx)(d.Z,{attr:"price",type:"number",label:"Price",value:D,onChange:function(e){return O(e.target.value)}})})}),k()||(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,j.jsx)(p.Z,{label:"Cancel",className:"w-100",large:!0,onClick:H})}),(0,j.jsx)("div",{className:"col-sm-6 col-md-6",children:(0,j.jsx)(f.Z,{label:V(),className:"w-100",large:!0})})]})]})};return(0,j.jsx)(l.Z,{title:"".concat(V()," Product").trim(),size:"medium",hideTitle:n,children:k()?B():function(){var e=function(){var e,n=null===(e=g.getItem(v.fH))||void 0===e?void 0:e._id,t={category:T,description:U,price:D,user_id:n};return C()?(0,c.Z)({_id:w},t):t},n=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),c="",n.prev=2,!N()){n.next=9;break}return c="created",n.next=7,(0,o.Ue)(e());case 7:n.next=13;break;case 9:if(!C()){n.next=13;break}return c="updated",n.next=13,(0,o.Vx)(e());case 13:Z("Product ".concat(c," successfully")),t("/Products"),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(2),b("Error trying to ".concat(V().toLowerCase()," a product"));case 20:case"end":return n.stop()}}),n,null,[[2,17]])})));return function(e){return n.apply(this,arguments)}}();return(0,j.jsx)("form",{onSubmit:n,children:B()})}()})}},9140:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(9439),a=t(2791),c=t(6774),s=t(2513),i=t(1087),o=t(8152),l=t(7934),u=t(2716),d=t(7515),f=t(2776),p=t.n(f),h=t(413),m=t(184),x=function(e){var n=e.title,t=e.children,r=e.show,c=(0,a.createRef)();return(0,a.useEffect)((function(){var e=p().Modal.getOrCreateInstance(c.current);r?e.show():e.hide()}),[r]),(0,m.jsx)("div",{className:"modal",tabIndex:"-1",id:"modal",ref:c,children:(0,m.jsx)("div",{className:"modal-dialog",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"modal-header",children:[(0,m.jsx)("h5",{className:"modal-title",children:n}),(0,m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,m.jsx)("div",{className:"modal-body",children:t}),(0,m.jsx)("div",{className:"modal-footer",children:(0,m.jsx)(h.Z,{className:"btn btn-secondary",dataBsDismiss:"modal",label:"Close"})})]})})})},v=t(9148),j=t(4841),g=(0,v.Z)(!0),Z=function(){var e=(0,a.useState)([]),n=(0,r.Z)(e,2),t=n[0],f=n[1],p=(0,a.useState)(!1),h=(0,r.Z)(p,2),v=h[0],Z=h[1],b=(0,o.w)(),y=b.addSuccessMessage,w=b.addErrorMessage,N=(0,u.q)(),C=N.setId,k=N.setCreatePageType,P=N.setEditPageType,_=N.setViewPageType;(0,a.useEffect)((function(){return T(),function(){f([])}}),[]);var T=function(){var e=g.getItem(j.fH),n=null===e||void 0===e?void 0:e._id;(0,c.go)(n).then((function(e){f(e)}))},z=function(){var e=g.getItem(j.fH);return!!e&&"admin"===e.profile};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.Z,{title:"Products",size:"large",children:(0,m.jsxs)("table",{className:"table",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{scope:"col",children:"Category"}),(0,m.jsx)("th",{scope:"col",children:"Description"}),(0,m.jsx)("th",{scope:"col",children:"Price"}),(0,m.jsx)("th",{scope:"col",children:(0,m.jsx)(i.rU,{to:{pathname:"/Product"},onClick:function(){return C(-1),void k()},children:(0,m.jsx)(s.Z,{fontName:"plus-square-dotted"})})}),(0,m.jsx)("th",{scope:"col"}),!z()||(0,m.jsx)("th",{scope:"col"})]})}),(0,m.jsx)("tbody",{children:t.map((function(e){return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.category}),(0,m.jsx)("td",{children:e.description}),(0,m.jsx)("td",{children:e.price}),!z()||(0,m.jsx)("td",{children:(0,m.jsx)(i.rU,{to:{pathname:"/Product"},onClick:function(){return n=e._id,C(n),void P();var n},children:(0,m.jsx)(s.Z,{fontName:"pencil-square"})})}),(0,m.jsx)("td",{children:(0,m.jsx)("div",{onClick:function(){return n=e._id,C(n),_(),void Z(!0);var n},"data-bs-target":".modal","data-bs-toggle":"modal",children:(0,m.jsx)(s.Z,{fontName:"eye"})})}),!z()||(0,m.jsx)("td",{children:(0,m.jsx)(s.Z,{fontName:"trash3",onClick:function(){return function(e){console.log("Removing Product/".concat(e._id)),(0,c.Od)(e._id).then((function(){y("Product removed successfully!"),T()})).catch((function(){w("Error trying to remove the product ".concat(e.description))}))}(e)}})})]},e._id)}))})]})}),(0,m.jsx)(x,{title:"Product",show:v,children:!v||(0,m.jsx)(d.default,{hideTitle:!0})})]})}},6774:function(e,n,t){t.d(n,{Od:function(){return m},Ue:function(){return d},Vx:function(){return p},go:function(){return l},qC:function(){return i}});var r=t(4165),a=t(5861),c=t(2604),s="api/product";function i(e){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.U2)(s+"/"+n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.U2)("".concat(s,"/user/").concat(n),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.v_)(s+"/create",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.gz)(s+"/update/".concat(n._id),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.Od)(s,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=140.51597fba.chunk.js.map